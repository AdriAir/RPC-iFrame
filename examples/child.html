<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Child iframe</title>
        <h1>Child iframe</h1>
        <p>This iframe exposes an API that the parent can call via RPC.</p>
    </head>
    <body>
        <script type="module">
            import { IframeExposed } from "./dist/index.js";

            // API que el padre podr√° llamar
            const api = {
                async greet(name) {
                    console.log(`Child received: ${name}`);
                    return `Hello, ${name}!`;
                },
                async add(a, b) {
                    return a + b;
                },
                async setBackgroundColor(color) {
                    document.body.style.backgroundColor = color;
                    return `Background color set to ${color}`;
                },
            };

            new IframeExposed(api, { allowedOrigin: "*" });
        </script>
    </body>
</html>
